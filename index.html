<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset='utf-8'>
    <title>Weather Overview</title>
    <meta description='See current weather in your favorite locations'>
    <meta author='Simon La Personne'>
    <link href='./assets/css/bootstrap.css' rel='stylesheet'>
    <link href='./assets/css/starter-template.css' rel='stylesheet'>
    <link href='./assets/css/application.css' rel='stylesheet'>
  </head>
  <body>
    <header>
      <nav class='navbar navbar-inverse navbar-fixed-top'>
        <div class='container'>
          <div class='navbar-header'>
            <a class='navbar-brand' href='#'>Weather Overview</a>
          </div>
        </div>
      </nav>
    </header>
    <div class='container' id='main-region'>
      <p>Text to be replaced</p>
    </div>
    <script id='location-template' type='text/template'>
      <p>'<%- title %>' is '<%- name %>'</p>
    </script>
    <footer></footer>
    <script src='./lib/jquery-2.1.3.js' type='text/javascript'></script>
    <script src='./lib/json2.js' type='text/javascript'></script>
    <script src='./lib/underscore.js' type='text/javascript'></script>
    <script src='./lib/backbone.js' type='text/javascript'></script>
    <script src='./lib/backbone.marionette.js' type='text/javascript'></script>
    <script src='./lib/bootstrap.js' type='text/javascript'></script>
    <script type='text/javascript'>
      var WeatherOverviewApp = new Marionette.Application();
      WeatherOverviewApp.addRegions({
         mainRegion: "#main-region"
      });
      WeatherOverviewApp.Location = Backbone.Model.extend({
         defaults: {
             title: "Default Title"
         }
      });
      WeatherOverviewApp.LocationView = Marionette.ItemView.extend({
         template: "#location-template",
          events: {
             "click p": "alertPosition"
         },
         alertPosition: function(){
             alert('latitude : ' + this.model.escape("latitude") + ', longitude : ' + this.model.escape("longitude"));
         }
      });
      WeatherOverviewApp.on("start", function(){
         var location1 = new WeatherOverviewApp.Location({
             name: "Clermont-Ferrand",
             latitude: "0.0",
             longitude: "0.0"
         })
         var location1View = new WeatherOverviewApp.LocationView({
             model: location1
         });
         WeatherOverviewApp.mainRegion.show(location1View);
      });
      WeatherOverviewApp.start();
    </script>
  </body>
</html>
